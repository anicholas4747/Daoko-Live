!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=document.getElementsByClassName("canvas")[0],a=r.getContext("2d");r.width=innerWidth,r.height=innerHeight;var o={x:0,y:0},s=!1;addEventListener("mousemove",(function(e){o.x=e.clientX,o.y=e.clientY})),addEventListener("mousedown",(function(e){s=!0})),addEventListener("mouseup",(function(e){s=!1})),addEventListener("resize",(function(){r.width=innerWidth,r.height=innerHeight,u()}));var d=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.colorOptions=["#85BDB6","#DB0700","#FFC513","#EFFBFF","#579CC2"],this.origX=t,this.origY=n,this.x=t,this.y=n,this.radius=i,this.color=this.colorOptions[Math.floor(5*Math.random())],this.radians=Math.random()*Math.PI*2,this.velocity=this.randInt(1,4)/this.randInt(100,150),this.distanceFromCenter=this.randInt(55,177),this.lastMouse={x:this.origX,y:this.origY}}var t,n,r;return t=e,(n=[{key:"randInt",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{key:"update",value:function(){var e={x:this.x,y:this.y};this.radians+=this.velocity,this.lastMouse.x+=.05*(o.x-this.lastMouse.x),this.lastMouse.y+=.05*(o.y-this.lastMouse.y),s?(this.x=this.lastMouse.x,this.y=this.lastMouse.y):(this.x=this.lastMouse.x+Math.cos(this.radians)*this.distanceFromCenter,this.y=this.lastMouse.y+Math.sin(this.radians)*this.distanceFromCenter),this.draw(e)}},{key:"draw",value:function(e){a.beginPath(),a.strokeStyle=this.color,a.lineWidth=this.radius,a.moveTo(e.x,e.y),a.lineTo(this.x,this.y),a.stroke(),a.closePath()}}])&&i(t.prototype,n),r&&i(t,r),e}(),c=[],u=function(){c=[];for(var e=0;e<200;e++){var t=Math.floor(5*Math.random()+3);c.push(new d(1e3,500,t))}};function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var h=function(e,t,n,i,r,a){var o=function(){function e(t,n,i,r,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t[0],this.y=t[1],this.destX=n[0],this.destY=n[1],this.dx=(this.destX-this.x)/60,this.dy=(this.destY-this.y)/60,this.radius=i,this.key=r,this.timestamp=a,this.hold=o,this.hit=!1,this.score=0}var t,n,o;return t=e,(n=[{key:"update",value:function(){this.radius=this.radius<50?this.radius+1:this.radius,this.x+=this.dx,this.y+=this.dy;var e=Math.abs(this.x-this.destX)<10&&Math.abs(this.y-this.destY)<10,t=Math.abs(this.x-this.destX)<25&&Math.abs(this.y-this.destY)<25,n=i[this.key];e&&n&&(a.score+=1),t&&n&&(a.score+=.5),(e||t)&&n&&(this.hit=!0),this.draw()}},{key:"draw",value:function(){this.hit||(r.beginPath(),r.arc(this.x,this.y,this.radius,0,2*Math.PI),r.lineWidth=10,r.strokeStyle="#85BDB6",r.stroke())}}])&&l(t.prototype,n),o&&l(t,o),e}(),s=[];!function(){for(var n=[innerWidth/2,innerHeight/3],i=0;i<2;i++)if(!(Math.random()<.67&&1===i)){var r=Math.floor(6*Math.random()),a=e[r],d=t[r];s.push(new o(n,a,5,d,0,!1))}}(),function e(){n?cancelAnimationFrame(e):requestAnimationFrame(e),s.forEach((function(e){e.update()}))}()};function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var f=function(e,t,n,i,r,a){var o=new(window.AudioContext||window.webkitAudioContext),s=(document.getElementById("screen"),document.createElement("audio"));s.setAttribute("src",e),document.body.appendChild(s);var d=document.querySelector("audio"),c=o.createMediaElementSource(d),u=document.createElement("button");u.id="play-button",u.setAttribute("data-playing",!0),u.setAttribute("role","switch"),u.setAttribute("aria-checked",!1),u.textContent="Play/Pause",document.body.appendChild(u);var l=o.createAnalyser();l.minDecibels=-90,l.maxDecibels=-10,l.fftSize=256;var f=l.frequencyBinCount,m=new Uint8Array(f),y=o.createGain(),p=document.createElement("input");p.type="range",p.id="volume",p.setAttribute("min","0"),p.setAttribute("max","10"),p.setAttribute("value","2"),p.setAttribute("step","0.2"),document.body.appendChild(p),document.querySelector("#volume").addEventListener("input",(function(){y.gain.value=this.value}),!1);o.createDelay(3);c.connect(y).connect(l).connect(o.destination);var g=document.getElementById("play-button"),b=!1,w=function(){"suspended"===o.state&&o.resume(),"false"===g.dataset.playing?(d.play(),b=!1,g.dataset.playing="true"):"true"===g.dataset.playing&&(d.pause(),b=!0,g.dataset.playing="false")};g.addEventListener("click",w),addEventListener("keypress",(function(e){32===e.keyCode&&w()})),g.setAttribute("display","none");var E=Date.now(),k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var o,s,d;return o=e,(s=[{key:"update",value:function(){var e=m.reduce((function(e,t){return e+t}),0),o=Date.now()-E;e>10500&&o>600&&(h(t,n,b,i,r,a),E=Date.now()),this.draw()}},{key:"draw",value:function(){l.getByteFrequencyData(m)}}])&&v(o.prototype,s),d&&v(o,d),e}();return d.play(),new k};function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var y=function(e,t,n,i){var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.key=t,this.x=n[0],this.y=n[1]}var t,r,a;return t=e,(r=[{key:"update",value:function(){this.draw(i[this.key])}},{key:"draw",value:function(e){n.beginPath(),n.arc(this.x,this.y,50,0,2*Math.PI),n.lineWidth=15,n.strokeStyle="#85BDB6",n.stroke();var t=n.createRadialGradient(this.x,this.y,0,this.x,this.y,50);t.addColorStop(0,"#FFC513"),t.addColorStop(1,"#EFFBFF");var i=e?t:"#EEE";n.fillStyle=i,n.fill()}}])&&m(t.prototype,r),a&&m(t,a),e}(),a=[];return function(){for(var n=0;n<6;n++){var i=e[n],o=t[n];a.push(new r(o,i))}}(),a};function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var g=function(e){var t=document.getElementById("screen"),n=document.createElement("canvas");n.width=innerWidth,n.height=innerHeight,n.classList.add("canvas"),n.id="score-canvas",t.appendChild(n);var i=n.getContext("2d");return new(function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,r,a;return n=t,(r=[{key:"update",value:function(){this.draw()}},{key:"draw",value:function(){var t=i.createLinearGradient(0,0,1100,0);t.addColorStop(0,"#FFC513"),t.addColorStop(.5,"#85BDB6"),t.addColorStop(1,"#DB0700"),i.beginPath(),i.fillRect(50,100,innerWidth-150,40),i.fillStyle=t,i.fill(),i.beginPath(),i.fillRect(50,100,1.15*e.score,40),i.fillStyle="#DDD",i.fill()}}])&&p(n.prototype,r),a&&p(n,a),t}())};function b(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var w=function(){var e=document.getElementById("screen"),t=document.createElement("canvas");t.classList.add("canvas"),t.id="songSelectCanvas";var n=document.createElement("button");n.textContent="back",n.id="back",document.body.appendChild(n),e.appendChild(t);var i=["../../assets/Songs/Me!Me!Me! Pt. 1 (feat. Daoko) - TeddyLoid.mp3","../../assets/Songs/ダイスキ ft. TeddyLoid - Daoko.mp3","../../assets/Songs/Me!Me!Me! Pt. 3 (feat. Daoko) - TeddyLoid.mp3"],r=["../../assets/images/trackart/mememe.png","../../assets/images/trackart/sk.png","../../assets/images/trackart/three.png"];n.addEventListener("click",(function(){t.remove(),n.remove();for(var e=0;e<3;e++)document.getElementById(r[e]).remove();k()}));t.getContext("2d");t.width=innerWidth,t.height=innerHeight;for(var a=function(e){var t=document.createElement("img");t.classList.add("track-art"),t.src=r[e],t.id=r[e],t.style.top="".concat(22+15*e,"%"),t.style.left="".concat(22+15*e,"%"),document.body.appendChild(t),t.addEventListener("click",(function(){!function(e){var t=document.getElementById("screen"),n=document.createElement("canvas");n.classList.add("canvas"),n.id="gameplay-canvas",t.appendChild(n);var i=document.createElement("button");i.textContent="back",i.id="back",document.body.appendChild(i),i.addEventListener("click",(function(){n.remove(),i.remove(),w(),document.querySelector("audio").remove(),document.getElementById("volume").remove()}));var r=!1,a={score:0},o={e:!1,f:!1,v:!1,n:!1,j:!1,i:!1},s=n.getContext("2d");n.width=innerWidth,n.height=innerHeight;var d=[[n.width/6,n.height/2],[n.width/4+20,n.height*(2/3)],[n.width/2-100,n.height*(5/6)],[n.width/2+100,n.height*(5/6)],[.75*n.width-20,n.height*(2/3)],[n.width*(5/6),n.height/2]],c=["e","f","v","n","j","i"],u=[];u.push(f(e,d,c,o,s,a)),u.push(g(a));var l=y(d,c,s,o);function h(){r?cancelAnimationFrame(h):requestAnimationFrame(h),s.clearRect(0,0,innerWidth,innerHeight),u.forEach((function(e){e.update()}))}u.push.apply(u,b(l)),h(),addEventListener("keydown",(function(e){switch(e.keyCode){case 69:return void(o.e=!0);case 70:return void(o.f=!0);case 86:return void(o.v=!0);case 78:return void(o.n=!0);case 74:return void(o.j=!0);case 73:return void(o.i=!0)}})),addEventListener("keyup",(function(e){switch(e.keyCode){case 69:return void(o.e=!1);case 70:return void(o.f=!1);case 86:return void(o.v=!1);case 78:return void(o.n=!1);case 74:return void(o.j=!1);case 73:return void(o.i=!1)}})),addEventListener("keypress",(function(e){32===e.keyCode&&(r?(r=!1,h()):r=!0)}))}(i[e]);for(var t=0;t<3;t++)document.getElementById(r[t]).remove();n.remove()}))},o=0;o<3;o++)a(o)};function E(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var k=function(){var e=document.getElementById("screen"),t=document.getElementById("gameplayCanvas");t&&t.remove(),(t=document.getElementById("songSelectCanvas"))&&t.remove();var n=document.createElement("img");n.setAttribute("src","../../assets/images/daoko_logo.png"),n.id="logo",e.appendChild(n);var i=document.createElement("button"),r=document.createElement("button");i.id="songSelect",r.id="tut",i.textContent="jump in",r.textContent="tutorial",document.body.appendChild(i),document.body.appendChild(r),i.addEventListener("click",(function(){w(),i.remove(),r.remove(),n.remove()})),r.addEventListener("click",(function(){!function(e){var t=document.getElementById("screen"),n=document.createElement("canvas");n.classList.add("canvas"),n.id="gameplay-canvas",t.appendChild(n);var i=document.createElement("button");i.textContent="back",i.id="back",document.body.appendChild(i);var r=document.createElement("p");r.id="tutorial",r.textContent="1. Use EFVNJI to hit notes. 2. Use [spacebar] to pause.",document.body.appendChild(r);var a=!1,o={score:0},s={e:!1,f:!1,v:!1,n:!1,j:!1,i:!1},d=n.getContext("2d");n.width=innerWidth,n.height=innerHeight;var c=[[n.width/6,n.height/2],[n.width/4+20,n.height*(2/3)],[n.width/2-100,n.height*(5/6)],[n.width/2+100,n.height*(5/6)],[.75*n.width-20,n.height*(2/3)],[n.width*(5/6),n.height/2]],u=["e","f","v","n","j","i"],l=[],v=y(c,u,d,s);function f(){a?cancelAnimationFrame(f):requestAnimationFrame(f),d.clearRect(0,0,innerWidth,innerHeight),l.forEach((function(e){e.update()}))}l.push.apply(l,E(v)),f();var m=setInterval((function(){return h(c,u,a,s,d,o)}),1500);addEventListener("keydown",(function(e){switch(e.keyCode){case 69:return void(s.e=!0);case 70:return void(s.f=!0);case 86:return void(s.v=!0);case 78:return void(s.n=!0);case 74:return void(s.j=!0);case 73:return void(s.i=!0)}})),addEventListener("keyup",(function(e){switch(e.keyCode){case 69:return void(s.e=!1);case 70:return void(s.f=!1);case 86:return void(s.v=!1);case 78:return void(s.n=!1);case 74:return void(s.j=!1);case 73:return void(s.i=!1)}})),addEventListener("keypress",(function(e){32===e.keyCode&&(a?(a=!1,f()):a=!0)})),i.addEventListener("click",(function(){n.remove(),i.remove(),r.remove(),clearInterval(m),k()}))}(),i.remove(),r.remove(),n.remove()}))};document.addEventListener("DOMContentLoaded",(function(){k(),u(),function e(){requestAnimationFrame(e),a.fillStyle="rgba(255,255,255,0.05)",a.fillRect(0,0,r.width,r.height),c.forEach((function(e){e.update()}))}()}))}]);
//# sourceMappingURL=main.js.map